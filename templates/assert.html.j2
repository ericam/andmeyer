{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="/static/css/assert.css" />
{% endblock %}

{% block template %}
<main>
  {{ rst.fragment }}
</main>
{% endblock %}

{% block extrajs %}
<script>
  var saySomething = function(what, where, when) {
    var also = [
          "Trust me.",
        ];

    what = what.concat(what, what, what, what, also);

    setInterval(function() {
      var straw = Math.floor(Math.random() * what.length);

      $(where).append('<p>' + what[straw] + '</p>')
      $("html, body").animate({ scrollTop: $(document).height() }, "slow");
    }, when);
  };

  var what = [
        {% for say in config.assert %}
          "{{ say }}",
        {% endfor %}
      ],
      where = 'main',
      when = {{ assert_time|default(1000) }};

  saySomething(what, where, when);
</script>
{% endblock %}
