{% import "modules/event.macros.j2" as calendar %}

{% set events = config.past if module.time == 'past' else config.future %}

{% if events %}
  <section data-module="calendar" data-has-filters="true">
    <h2 class="section-title">
      {{ module.title or ['the', module.time]|join(' ') }}
    </h2>

    <input type="radio" name="filters" id="filter-all" class="filter-value" checked />
    <label for="filter-all" class="filter-label">show all</label>
    {% for type in events|map(attribute='type')|unique_chain %}
      <input type="radio" name="filters" id="filter-{{ type }}" class="filter-value" />
      <label for="filter-{{ type }}" class="filter-label">{{ type }}</label>
    {% endfor %}

    {% for event in events %}
      {{ calendar.show(event) }}
    {% endfor %}
  </section>
{% endif %}
