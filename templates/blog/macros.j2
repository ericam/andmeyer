{% macro list(post) %}
<article data-module="blog-post">
  {% if post.title %}
    <h2>
      <a href="{{ link_to('page', slug=post.slug) }}">
        {{ post.title }}
      </a>
    </h2>
  {% endif %}

  {{ pubdate(post) }}

  {% if post.summary %}
    {{ post.render_summary() }}
    <a href="{{ link_to('page', slug=post.slug) }}" class="more-link">
      read more Â»
    </a>
  {% else %}
    {{ post.render_contents() }}
  {% endif %}
</article>
{% endmacro %}

{% macro pubdate(post) %}
{% if post.pub_date %}
  {% if post.pub_date %}
  <time datetime="{{ post.pub_date.isoformat() }}" pubdate="pubdate">
    {{ post.pub_date.strftime("%B %d, %Y") }}
  </time>
  {% endif %}
{% endif %}
{% endmacro %}
